{
  "hash": "1307ded709447b4525cc1901163e8a02",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Descriptive Measures\"\n---\n\n\n\n\n## Introduction\n\nA **descriptive measure** is a numerical value which summarises a set of data. We represent the number of patients in a sample by the letter **n**. We often represent the individual values of a variable with a small letter **x**. The value for patient 1 would be x~1~, the value for patient 2 would be x~2~. In a sample of n patients, the value for patient n would be x~n~.\n\n## Measures of Location or Central Tendency\n\nThese give the location of the centre of the data. Representative measures are **mean**, **median**, and **mode**. They are referred to as 'average' values – i.e. 'something in the middle'.\n\n### Sample Mean\n\nThe **sample mean** ($\\bar{x}$) is calculated as:\n\n$$\\text{mean} = \\frac{\\sum x}{n}$$\n\nWhere Σx = x~1~ + x~2~ + x~3~ + … + x~n~ is the sum of all values across the subjects, and n is the total number of subjects.\n\n### Sample Median\n\nThe **sample median** is the middle value when the observations are ranked from lowest to highest. If n is even, it is the mean of the middle two values.\n\nIts interpretation is that 50% of data values are above the median; 50% are below the median.\n\n### Quartiles\n\n**Quartiles** (Q1, Q2, and Q3) – when the observations are ranked from lowest to highest the quartiles divide a set of data into four parts of equal frequency:\n\n- **25%** of the data values are smaller than Q1 (lower quartile)\n- **50%** of the data values are smaller than Q2 (median)\n- **25%** of the data values are larger than Q3 (upper quartile)\n\n### Sample Mode\n\nThe **sample mode** is the most frequently occurring value. This term is seldom used.\n\n## Measures of Dispersion\n\nKnowing the \"average\" value of data is not very informative by itself. We also need to know how \"concentrated\" or \"spread out\" the data are. That is, we need to know something about the \"variability\" of the data.\n\nMeasures of dispersion are ways of quantifying this numerically. They describe the degree to which the data vary about their average value, their scatter or spread. Representative measures: **range**, **standard deviation**, and **interquartile range**.\n\n### Range\n\n**Range** is simply the difference between the smallest (minimum) and largest (maximum) values in the sample.\n\n### Standard Deviation\n\n**Standard deviation** (SD or sd) is a measure of how far away observations are from the sample mean.\n\nIt is calculated as:\n\n$$SD = \\sqrt{\\frac{\\sum(x - \\text{mean})^2}{n-1}}$$\n\nWhich is the square root of the sum of squared differences from the sample mean divided by (n-1).\n\n### Interquartile Range\n\n**Interquartile range** (IQR) is simply the lower quartile and upper quartile (Q1, Q3). Sometimes it is expressed as the value of Q3 - Q1.\n\n## Worked Example: SUVmax in Lung Cancer Patients\n\n10 patients with lung cancer had a pretreatment PET scan and SUVmax was measured.\n\n### The Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Original data\nsuv_data <- c(1.8, 8.9, 2.7, 9.4, 5.4, 16.0, 5.8, 17.9, 13.1, 6.6)\n\ntibble(\n  Patient = 1:10,\n  `SUVmax` = suv_data\n) |>\n  kable() |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Patient </th>\n   <th style=\"text-align:right;\"> SUVmax </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 8.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 9.4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 5.4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 16.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 5.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 17.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 13.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 6.6 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n### Calculating the Mean\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate mean\nsum_values <- sum(suv_data)\nn <- length(suv_data)\nmean_suv <- sum_values / n\n```\n:::\n\n\nThe mean SUVmax = (1.8 + 8.9 + 2.7 + 9.4 + 5.4 + 16.0 + 5.8 + 17.9 + 13.1 + 6.6) / 10 = **8.76**\n\n### Calculating the Standard Deviation\n\nThe calculation of the standard deviation involves:\n\n**Step 1:** Subtracting the mean SUVmax from each observation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndeviations <- suv_data - mean_suv\ntibble(\n  Patient = 1:10,\n  SUVmax = suv_data,\n  `Deviation (x - mean)` = round(deviations, 1)\n) |>\n  kable() |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Patient </th>\n   <th style=\"text-align:right;\"> SUVmax </th>\n   <th style=\"text-align:right;\"> Deviation (x - mean) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1.8 </td>\n   <td style=\"text-align:right;\"> -7.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 8.9 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2.7 </td>\n   <td style=\"text-align:right;\"> -6.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 9.4 </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 5.4 </td>\n   <td style=\"text-align:right;\"> -3.4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 16.0 </td>\n   <td style=\"text-align:right;\"> 7.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 5.8 </td>\n   <td style=\"text-align:right;\"> -3.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 17.9 </td>\n   <td style=\"text-align:right;\"> 9.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 13.1 </td>\n   <td style=\"text-align:right;\"> 4.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 6.6 </td>\n   <td style=\"text-align:right;\"> -2.2 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n**Step 2:** Squaring these values:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsquared_deviations <- deviations^2\nsum_squared <- sum(squared_deviations)\n```\n:::\n\n\nSquared deviations: 48.44, 0.02, 36.72, 0.41, 11.29, 52.42, 8.76, 83.54, 18.84, 4.67\n\n**Step 3:** Summing these values together: **265.1**\n\n**Step 4:** Dividing by the number of observations minus 1:\n\n$$\\frac{265.1}{(10-1)} = 29.46$$\n\n**Step 5:** Taking the square root:\n\n$$\\text{standard deviation} = \\sqrt{29.46} = 5.43$$\n\n### Calculating the Median and Interquartile Range\n\nOrdering the data from lowest to highest allows identification of the median and quartiles.\n\n**Ordered data:** 1.8, 2.7, 5.4, 5.8, 6.6, 8.9, 9.4, 13.1, 16.0, 17.9\n\n\n::: {.cell}\n\n```{.r .cell-code}\nordered_data <- sort(suv_data)\nmedian_suv <- median(suv_data)\nq1 <- quantile(suv_data, 0.25)\nq3 <- quantile(suv_data, 0.75)\nmin_val <- min(suv_data)\nmax_val <- max(suv_data)\nrange_val <- max_val - min_val\niqr_val <- q3 - q1\n```\n:::\n\n\n- The **median** SUVmax = (6.6 + 8.9)/2 = **7.75**\n- **Q1** = 5.5 and **Q3** = 12.175\n- The **minimum** value is 1.8, and the **maximum** value is 17.9\n- The **range** = 17.9 - 1.8 = 16.1\n- The **interquartile range** (IQR) is (5.5, 12.175) or 12.175 - 5.5 = 6.675\n\n### Summary Table\n\n\n::: {#tbl-summary .cell tbl-cap='Summary statistics for SUVmax in 10 lung cancer patients'}\n\n```{.r .cell-code}\ntibble(\n  Measure = c(\"Mean (SD)\", \"Median (IQR)\", \"Range\"),\n  Value = c(\n    paste0(round(mean_suv, 2), \" (\", round(sd(suv_data), 2), \")\"),\n    paste0(median_suv, \" (\", q1, \"-\", q3, \")\"),\n    paste0(min_val, \" to \", max_val)\n  )\n) |>\n  kable() |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Measure </th>\n   <th style=\"text-align:left;\"> Value </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Mean (SD) </td>\n   <td style=\"text-align:left;\"> 8.76 (5.43) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Median (IQR) </td>\n   <td style=\"text-align:left;\"> 7.75 (5.5-12.175) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Range </td>\n   <td style=\"text-align:left;\"> 1.8 to 17.9 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n::: {.callout-important}\n## Reporting Convention\nRemember to report **means with standard deviations** (8.76 (SD 5.43)), and **medians with interquartile ranges** (7.75 (IQR 5.4-13.1)).\n\nDo not mix means with the interquartile range or medians with standard deviations.\n:::\n\n## Which Measures to Choose?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\n# Normal data\nnormal_data <- tibble(\n  value = rnorm(100, mean = 50, sd = 10),\n  type = \"Symmetric distribution\"\n)\n\n# Skewed data with outlier\nskewed_data <- tibble(\n  value = c(rnorm(95, mean = 50, sd = 10), 120, 130, 140, 150, 160),\n  type = \"With outliers\"\n)\n\ncombined <- bind_rows(normal_data, skewed_data)\n\nggplot(combined, aes(x = value)) +\n  geom_histogram(bins = 20, fill = \"#3498db\", alpha = 0.7) +\n  geom_vline(data = combined |> group_by(type) |> summarise(m = mean(value)),\n             aes(xintercept = m), colour = \"#e74c3c\", linewidth = 1, linetype = \"dashed\") +\n  geom_vline(data = combined |> group_by(type) |> summarise(m = median(value)),\n             aes(xintercept = m), colour = \"#27ae60\", linewidth = 1) +\n  facet_wrap(~type, scales = \"free_x\") +\n  labs(x = \"Value\", y = \"Frequency\",\n       caption = \"Red dashed = mean, Green solid = median\") +\n  theme_minimal(base_size = 12)\n```\n\n::: {.cell-output-display}\n![The median is less influenced by outliers than the mean](06-descriptive-measures_files/figure-html/fig-mean-vs-median-1.png){#fig-mean-vs-median width=768}\n:::\n:::\n\n\n- The **mode** should be used when calculating a measure of centre for nominal categorical variables\n- When the variable is numeric with a **symmetric distribution**, then the **mean** is the proper measure of centre\n- In the case of numeric variables with **skewed distribution**, the **median** is a good choice for the measure of centre. The median is less influenced by outlier (extreme) values\n\nThe sample mode, the sample median and the sample mean have corresponding population measures. That is, we assume that the variable in question has a population mode, population median, population mean, which are all unknown. The sample mode, the sample median and the sample mean are used to estimate the values of these corresponding unknown population parameters.\n\n## Summary\n\n| Measure | Description | When to Use |\n|---------|-------------|-------------|\n| Mean | Sum of values divided by n | Symmetric numeric data |\n| Median | Middle value when ordered | Skewed numeric data |\n| Mode | Most frequent value | Categorical data |\n| Range | Maximum minus minimum | Quick measure of spread |\n| Standard deviation | Average distance from mean | Symmetric numeric data |\n| Interquartile range | Q3 minus Q1 | Skewed numeric data |\n",
    "supporting": [
      "06-descriptive-measures_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}